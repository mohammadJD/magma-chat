(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{cGQ5:function(l,n,u){"use strict";u.r(n),u.d(n,"ChatModuleNgFactory",(function(){return k}));var t=u("CcnG"),e=function(){return function(){}}(),s=u("pMnS"),i=u("Ip0R"),a=u("gIcY"),o=u("/t47"),r=u("3Kx2"),c=(u("aM2o"),function(){function l(l,n,u,t){this.pusherService=l,this._groupApi=n,this.spinner=u,this.auth=t,this.groupsDetails=[],this.messages=[],this.user=this.auth.currentUserValue}return l.prototype.ngOnInit=function(){var l=this;this.pusherService.messagesChannel.bind("client-new-message",(function(n){l.messages.push(n)}))},l.prototype.sendMessage=function(){var l={user:this.user.email,text:this.messageText};this.pusherService.messagesChannel.trigger("client-new-message",l),this.messages.push(l),this.messageText=""},l.prototype.initGroupDetails=function(){var l=this;this.spinner.show(),this.groupsDetails=[],this._groupApi.getGroupDetails(this.user.user_id).subscribe((function(n){l.groupsDetails=n.groups,l.spinner.hide()}),(function(n){l.spinner.hide()}))},l}()),p=u("7g+E"),g=u("cJ0Y"),b=t.ub({encapsulation:0,styles:[["body[_ngcontent-%COMP%]{margin-top:20px}.chat-online[_ngcontent-%COMP%]{color:#34ce57}.chat-offline[_ngcontent-%COMP%]{color:#e4606d}.chat-messages[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:800px;overflow-y:scroll}.chat-message-left[_ngcontent-%COMP%], .chat-message-right[_ngcontent-%COMP%]{display:flex;flex-shrink:0}.chat-message-left[_ngcontent-%COMP%]{margin-right:auto}.chat-message-right[_ngcontent-%COMP%]{flex-direction:row-reverse;margin-left:auto}.py-3[_ngcontent-%COMP%]{padding-top:1rem!important;padding-bottom:1rem!important}.px-4[_ngcontent-%COMP%]{padding-right:1.5rem!important;padding-left:1.5rem!important}.flex-grow-0[_ngcontent-%COMP%]{flex-grow:0!important}.border-top[_ngcontent-%COMP%]{border-top:1px solid #dee2e6!important}"]],data:{}});function d(l){return t.Yb(0,[(l()(),t.wb(0,0,null,null,8,"div",[["class","pb-4"]],null,null,null,null,null)),t.vb(1,278528,null,0,i.i,[t.s,t.t,t.l,t.D],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Ob(2,{"chat-message-right":0,"chat-message-right":1}),(l()(),t.wb(3,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.wb(4,0,null,null,0,"img",[["alt","Chris Wood"],["class","rounded-circle mr-1"],["height","40"],["width","40"]],[[8,"src",4]],null,null,null,null)),(l()(),t.wb(5,0,null,null,3,"div",[["class","flex-shrink-1 bg-light rounded py-2 px-3 mr-3"]],null,null,null,null,null)),(l()(),t.wb(6,0,null,null,1,"div",[["class","font-weight-bold mb-1"]],null,null,null,null,null)),(l()(),t.Vb(7,null,["",""])),(l()(),t.Vb(8,null,[" "," "]))],(function(l,n){var u=n.component,t=l(n,2,0,n.context.$implicit.user==u.user.email,n.context.$implicit.user!=u.user.email);l(n,1,0,"pb-4",t)}),(function(l,n){var u=n.component;l(n,4,0,n.context.$implicit.user==u.user.email?"https://bootdey.com/img/Content/avatar/avatar1.png":"https://bootdey.com/img/Content/avatar/avatar3.png"),l(n,7,0,n.context.$implicit.user==u.user.email?"You":n.context.$implicit.user),l(n,8,0,n.context.$implicit.text)}))}function m(l){return t.Yb(0,[(l()(),t.wb(0,0,null,null,30,"div",[["class","animated fadeIn"]],null,null,null,null,null)),(l()(),t.wb(1,0,null,null,29,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(2,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,[" Chat "])),(l()(),t.wb(4,0,null,null,26,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.wb(5,0,null,null,25,"main",[["class","content"]],null,null,null,null,null)),(l()(),t.wb(6,0,null,null,24,"div",[["class","container p-0"]],null,null,null,null,null)),(l()(),t.wb(7,0,null,null,1,"h1",[["class","h3 mb-3"]],null,null,null,null,null)),(l()(),t.Vb(-1,null,["Messages"])),(l()(),t.wb(9,0,null,null,21,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.wb(10,0,null,null,20,"div",[["class","row g-0"]],null,null,null,null,null)),(l()(),t.wb(11,0,null,null,19,"div",[["class","col-12"]],null,null,null,null,null)),(l()(),t.wb(12,0,null,null,4,"div",[["class","py-2 px-4 border-bottom"]],null,null,null,null,null)),(l()(),t.wb(13,0,null,null,3,"div",[["class","d-flex align-items-center py-1"]],null,null,null,null,null)),(l()(),t.wb(14,0,null,null,2,"div",[["class","flex-grow-1 pl-3"]],null,null,null,null,null)),(l()(),t.wb(15,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Vb(16,null,["",""])),(l()(),t.wb(17,0,null,null,3,"div",[["class","position-relative"]],null,null,null,null,null)),(l()(),t.wb(18,0,null,null,2,"div",[["class","chat-messages p-4"]],null,null,null,null,null)),(l()(),t.fb(16777216,null,null,1,null,d)),t.vb(20,278528,null,0,i.j,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.wb(21,0,null,null,9,"div",[["class","flex-grow-0 py-3 px-4 border-top"]],null,null,null,null,null)),(l()(),t.wb(22,0,null,null,8,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t.wb(23,0,null,null,5,"input",[["class","form-control"],["placeholder","Type your message"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var e=!0,s=l.component;return"input"===n&&(e=!1!==t.Lb(l,24)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Lb(l,24).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Lb(l,24)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Lb(l,24)._compositionEnd(u.target.value)&&e),"ngModelChange"===n&&(e=!1!==(s.messageText=u)&&e),e}),null,null)),t.vb(24,16384,null,0,a.c,[t.D,t.l,[2,a.a]],null,null),t.Qb(1024,null,a.i,(function(l){return[l]}),[a.c]),t.vb(26,671744,null,0,a.m,[[8,null],[8,null],[8,null],[6,a.i]],{model:[0,"model"]},{update:"ngModelChange"}),t.Qb(2048,null,a.j,null,[a.m]),t.vb(28,16384,null,0,a.k,[[4,a.j]],null,null),(l()(),t.wb(29,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.sendMessage()&&t),t}),null,null)),(l()(),t.Vb(-1,null,["Send"]))],(function(l,n){var u=n.component;l(n,20,0,u.messages),l(n,26,0,u.messageText)}),(function(l,n){l(n,16,0,n.component.user.email),l(n,23,0,t.Lb(n,28).ngClassUntouched,t.Lb(n,28).ngClassTouched,t.Lb(n,28).ngClassPristine,t.Lb(n,28).ngClassDirty,t.Lb(n,28).ngClassValid,t.Lb(n,28).ngClassInvalid,t.Lb(n,28).ngClassPending)}))}function h(l){return t.Yb(0,[(l()(),t.wb(0,0,null,null,1,"app-chat",[],null,null,null,m,b)),t.vb(1,114688,null,0,c,[o.a,r.a,p.c,g.a],null,null)],(function(l,n){l(n,1,0)}),null)}var f=t.sb("app-chat",c,h,{},{},[]),v=u("z5nN"),w=u("ES0t"),x=u("NJnL"),C=u("lqqz"),J=u("DQlY"),y=u("OZfm"),M=u("ZYCi"),O={title:"chat"},_=function(){return function(){}}(),P=u("axVG"),L=u("nR6e"),k=t.tb(e,[],(function(l){return t.Ib([t.Jb(512,t.j,t.X,[[8,[s.a,f,v.a,v.b,w.a]],[3,t.j],t.x]),t.Jb(4608,i.m,i.l,[t.u]),t.Jb(4608,a.d,a.d,[]),t.Jb(4608,a.u,a.u,[]),t.Jb(4608,x.a,x.a,[t.z,t.E,t.B]),t.Jb(4608,C.a,C.a,[t.j,t.z,t.r,x.a,t.g]),t.Jb(4608,J.a,J.a,[t.E,C.a]),t.Jb(4608,y.a,y.a,[]),t.Jb(1073742336,i.c,i.c,[]),t.Jb(1073742336,M.p,M.p,[[2,M.u],[2,M.l]]),t.Jb(1073742336,_,_,[]),t.Jb(1073742336,P.a,P.a,[]),t.Jb(1073742336,J.e,J.e,[]),t.Jb(1073742336,y.d,y.d,[]),t.Jb(1073742336,a.t,a.t,[]),t.Jb(1073742336,a.p,a.p,[]),t.Jb(1073742336,p.b,p.b,[]),t.Jb(1073742336,a.g,a.g,[]),t.Jb(1073742336,L.a,L.a,[]),t.Jb(1073742336,e,e,[]),t.Jb(1024,M.j,(function(){return[[{path:"",component:c,data:O}]]}),[])])}))}}]);